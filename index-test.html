<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>15s - Random Video Snap Live Stream</title>
  <meta name="description" content="Random Video Snap Live Stream by Takafumi Kato" />
  <meta property="og:image" content="https://15s.mov/15s.jpg" />
  <meta property="og:title" content="15s - Random Video Snap Live Stream" />
  <meta property="og:description" content="Random Video Snap Live Stream by Takafumi Kato" />
  <meta property="og:url" content="https://15s.mov/" />
  <meta property="og:type" content="website" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@15s_mov" />
  <meta name="twitter:title" content="15s" />
  <meta name="twitter:description" content="Random Video Snap Live Stream by Takafumi Kato" />
  <meta name="twitter:image" content="https://15s.mov/15s.jpg" />
  
  <!-- ファビコン -->
  <link rel="icon" href="15s.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="15s.jpg">
  
  <style>
    /* リセット */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    /* 基本スタイル */
    html, body { 
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: #000;
      color: #fff;
      line-height: 1.6;
    }
    
    /* アクセシビリティ - フォーカス状態 */
    :focus {
      outline: 2px solid #4d90fe;
      outline-offset: 2px;
    }

    /* 全画面動画セクション */
    .video-section {
      width: 100%;
      height: 100vh;
      position: relative;
      background: #000;
      overflow: hidden;
    }
    
    /* プレーヤーコンテナ */
    #player-container {
      width: 100%;
      height: 100%;
      position: relative;
    }
    
    /* ミュートボタン */
    .mute-toggle {
      position: absolute;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: background-color 0.3s ease;
    }
    
    .mute-toggle:hover {
      background: rgba(0, 0, 0, 0.8);
    }
    
    /* コンテンツセクション */
    .content-section {
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 40px 20px;
    }
    
    /* タイトル */
    .title {
      display: inline-flex;
      align-items: center;
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 1em;
    }
    
    .title img {
      width: 36px;
      height: 36px;
      margin-right: 12px;
    }
    
    /* 説明テキスト */
    .description {
      max-width: 600px;
      margin: 0 auto 2em;
      font-size: 1rem;
      line-height: 1.7;
    }
    
    /* ソーシャルリンク */
    .social-links {
      margin: 30px 0;
    }
    
    .social-links a {
      display: inline-block;
      padding: 10px 20px;
      background-color: #555;
      border: none;
      border-radius: 6px;
      color: #fff;
      text-decoration: none;
      margin: 8px;
      transition: all 0.3s ease;
    }
    
    .social-links a:hover {
      background-color: #777;
      transform: translateY(-2px);
    }
    
    /* フッター */
    .footer {
      margin-top: 40px;
      font-size: 0.9rem;
    }
    
    .footer a {
      color: #fff;
      text-decoration: underline;
    }

    /* スマホ向け調整 */
    @media (max-width: 768px) {
      .video-section {
        height: 50vh;
      }
      
      .title {
        font-size: 1.2rem;
      }
      
      .title img {
        width: 28px;
        height: 28px;
      }
      
      .social-links a {
        padding: 8px 16px;
        margin: 4px;
      }
    }
  </style>
</head>
<body>
  <section class="video-section" aria-label="ランダムビデオプレーヤー">
    <div id="player-container">
      <div id="player"></div>
    </div>
    <button class="mute-toggle" id="muteToggle" aria-label="音声のオン/オフを切り替える">
      <svg id="muteIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
        <line x1="23" y1="9" x2="17" y2="15"></line>
        <line x1="17" y1="9" x2="23" y2="15"></line>
      </svg>
    </button>
  </section>
  
  <section class="content-section">
    <div class="title">
      <img src="15s.svg" alt="15sロゴ">
      15s
    </div>
    
    <div class="description">
      <p>
        Each clip is a 15‑second video.<br>
        Every hour, a new clip is uploaded to social media.<br>
        On this page, clips are played randomly.<br>
        This is a personal video project.
      </p>
    </div>
    
    <div class="social-links">
      <a href="https://www.instagram.com/15s_mov" target="_blank" rel="noopener noreferrer" aria-label="Instagramでフォローする">
        Instagram
      </a>
      <a href="https://twitter.com/15s_mov" target="_blank" rel="noopener noreferrer" aria-label="Twitterでフォローする">
        Twitter
      </a>
      <a href="https://www.youtube.com/@15seconds" target="_blank" rel="noopener noreferrer" aria-label="YouTubeでチャンネル登録する">
        YouTube
      </a>
    </div>
    
    <div class="footer">
      <a href="https://katooonline.com" target="_blank" rel="noopener noreferrer">Kato Takafumi</a>
    </div>
  </section>

  <script>
    // YouTubeプレーヤー変数
    let ytPlayer;
    let isMuted = true;
    
    // ページ読み込み完了時に実行
    document.addEventListener('DOMContentLoaded', function() {
      // ミュートボタンのイベントリスナー
      const muteToggle = document.getElementById('muteToggle');
      muteToggle.addEventListener('click', toggleMute);
    });
    
    // YouTube APIのコールバック関数
    function onYouTubeIframeAPIReady() {
      // ランダムな動画を選択する関数
      const videos = [
        'rYnMVy4NChQ', 
        // 他の動画IDも追加可能
      ];
      const randomVideo = videos[Math.floor(Math.random() * videos.length)];
      
      ytPlayer = new YT.Player('player', {
        videoId: randomVideo,
        playerVars: {
          autoplay: 1,
          controls: 1,
          disablekb: 1,
          fs: 1,
          iv_load_policy: 3,
          modestbranding: 1,
          rel: 0,
          showinfo: 0,
          playsinline: 1
        },
        events: {
          'onReady': function(event) {
            event.target.mute();
            event.target.playVideo();
            updateMuteButtonIcon();
          },
          'onStateChange': function(event) {
            // 動画が終了したら次のランダム動画を再生
            if (event.data === YT.PlayerState.ENDED) {
              const nextVideo = videos[Math.floor(Math.random() * videos.length)];
              ytPlayer.loadVideoById(nextVideo);
            }
          },
          'onError': function(event) {
            console.error('YouTube Player Error:', event.data);
          }
        }
      });
    }
    
    // ミュートトグル関数
    function toggleMute() {
      if (ytPlayer) {
        if (isMuted) {
          ytPlayer.unMute();
          isMuted = false;
        } else {
          ytPlayer.mute();
          isMuted = true;
        }
        updateMuteButtonIcon();
      }
    }
    
    // ミュートボタンのアイコンを更新
    function updateMuteButtonIcon() {
      const muteIcon = document.getElementById('muteIcon');
      if (isMuted) {
        muteIcon.innerHTML = `
          <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
          <line x1="23" y1="9" x2="17" y2="15"></line>
          <line x1="17" y1="9" x2="23" y2="15"></line>
        `;
      } else {
        muteIcon.innerHTML = `
          <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        `;
      }
    }
  </script>
  
  <!-- YouTube IFrame API - 遅延読み込み -->
  <script async src="https://www.youtube.com/iframe_api"></script>
  
  <!-- Google Analytics - 遅延読み込み -->
  <script>
    window.addEventListener('load', function() {
      const gtagScript = document.createElement('script');
      gtagScript.async = true;
      gtagScript.src = "https://www.googletagmanager.com/gtag/js?id=G-3LJ8BTZGZV";
      document.head.appendChild(gtagScript);
      
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-3LJ8BTZGZV');
    });
  </script>
</body>
</html>
